{"version":3,"sources":["pages/MovieDetailsPage/MovieDetailsPage.js","pages/MovieDetailsPage/MovieDetailsPage.module.css"],"names":["Cast","lazy","Reviews","MovieDetailsPage","props","useState","movieInfo","setMovieInfo","error","setError","movieId","match","params","location","useLocation","history","useHistory","useEffect","getMovieInfo","then","res","data","catch","err","poster_path","title","name","vote_average","overview","genres","release_date","onClick","push","state","from","className","styles","movieCard","src","posterUrl","alt","poster","movieCardInfo","split","score","genreList","map","el","key","id","additionalInfo","adInfoList","to","pathname","link","fallback","type","color","path","component","module","exports"],"mappings":"8OAUMA,G,MAAOC,gBAAK,kBAChB,kCAEIC,EAAUD,gBAAK,kBACnB,iCAkHaE,UA/GU,SAACC,GAAW,IAAD,EACAC,mBAAS,IADT,mBAC3BC,EAD2B,KAChBC,EADgB,OAERF,oBAAS,GAFD,mBAE3BG,EAF2B,KAEpBC,EAFoB,KAI5BC,EAAUN,EAAMO,MAAMC,OAAOF,QAC7BG,EAAWC,cAEXC,EAAUC,cAEhBC,qBAAU,WACRC,YAAaR,GACVS,MAAK,SAACC,GACLb,EAAaa,EAAIC,SAElBC,OAAM,SAACC,GACNd,GAAS,QAEZ,CAACC,IAEJ,IAKEc,EAOElB,EAPFkB,YACAC,EAMEnB,EANFmB,MACAC,EAKEpB,EALFoB,KACAC,EAIErB,EAJFqB,aACAC,EAGEtB,EAHFsB,SACAC,EAEEvB,EAFFuB,OACAC,EACExB,EADFwB,aAEF,OACE,oCACE,4BAAQC,QAfU,WACpBhB,EAAQiB,KAAR,eAAkBnB,EAASoB,MAAMC,SAc/B,kBACC1B,GACC,oCACE,oDAGHF,EAAUuB,QACT,oCACE,6BAASM,UAAWC,IAAOC,WACzB,yBACEC,IAAG,UAAKC,KAAL,OAAiBf,GACpBgB,IAAKf,GAASC,EACdS,UAAWC,IAAOK,SAEpB,6BAASN,UAAWC,IAAOM,eACzB,wBAAIP,UAAWC,IAAOX,OAAtB,UAAiCA,GAASC,EAA1C,aACEI,EAAaa,MAAM,KAAK,GAD1B,MAGA,uBAAGR,UAAWC,IAAOQ,OAArB,0BACkC,GAAfjB,EADnB,MAGA,wCACA,2BAAIC,GACJ,sCACA,wBAAIO,UAAWC,IAAOS,WACnBhB,EAAOiB,KAAI,SAACC,GAAD,OACV,wBAAIC,IAAKD,EAAGE,IAAKF,EAAGrB,YAK5B,6BAASS,UAAWC,IAAOc,gBACzB,qDACA,wBAAIf,UAAWC,IAAOe,YACpB,4BACE,kBAAC,IAAD,CACEC,GAAI,CACFC,SAAS,WAAD,OAAa3C,EAAb,SACRuB,MAAO,CACLC,KAAMrB,EAASoB,MAAMC,OAGzBC,UAAWC,IAAOkB,MAPpB,SAYF,4BACE,kBAAC,IAAD,CACEF,GAAI,CACFC,SAAS,WAAD,OAAa3C,EAAb,YACRuB,MAAO,CACLC,KAAMrB,EAASoB,MAAMC,OAGzBC,UAAWC,IAAOkB,MAPpB,aAaJ,kBAAC,WAAD,CAAUC,SAAU,kBAAC,IAAD,CAAQC,KAAK,WAAWC,MAAM,UAChD,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,KAAI,UAAKtD,EAAMO,MAAM+C,KAAjB,SAA8BC,UAAW3D,IACpD,kBAAC,IAAD,CACE0D,KAAI,UAAKtD,EAAMO,MAAM+C,KAAjB,YACJC,UAAWzD,W,oBCpH7B0D,EAAOC,QAAU,CAAC,UAAY,oCAAoC,cAAgB,wCAAwC,OAAS,iCAAiC,MAAQ,gCAAgC,MAAQ,gCAAgC,UAAY,oCAAoC,eAAiB,yCAAyC,WAAa,qCAAqC,KAAO","file":"static/js/8.db247f96.chunk.js","sourcesContent":["/*core */\r\nimport React, { useState, useEffect, lazy, Suspense } from \"react\";\r\nimport { Link, Switch, Route, useLocation, useHistory } from \"react-router-dom\";\r\n/* instruments */\r\nimport { getMovieInfo } from \"../../helpers/requestMaker\";\r\nimport { posterUrl } from \"../../helpers/requestMaker\";\r\nimport styles from \"./MovieDetailsPage.module.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n/*components */\r\nconst Cast = lazy(() =>\r\n  import(\"../../components/Cast/Cast\" /* webpackChunkName: \"Cast\" */)\r\n);\r\nconst Reviews = lazy(() =>\r\n  import(\"../../components/Reviews/Reviews\" /* webpackChunkName: \"Reviews\" */)\r\n);\r\n\r\nconst MovieDetailsPage = (props) => {\r\n  const [movieInfo, setMovieInfo] = useState({});\r\n  const [error, setError] = useState(false);\r\n\r\n  const movieId = props.match.params.movieId;\r\n  const location = useLocation();\r\n\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    getMovieInfo(movieId)\r\n      .then((res) => {\r\n        setMovieInfo(res.data);\r\n      })\r\n      .catch((err) => {\r\n        setError(true);\r\n      });\r\n  }, [movieId]);\r\n\r\n  const goBackHandler = () => {\r\n    history.push({ ...location.state.from });\r\n  };\r\n\r\n  const {\r\n    poster_path,\r\n    title,\r\n    name,\r\n    vote_average,\r\n    overview,\r\n    genres,\r\n    release_date,\r\n  } = movieInfo;\r\n  return (\r\n    <>\r\n      <button onClick={goBackHandler}>&#8592; Go back</button>\r\n      {error && (\r\n        <>\r\n          <p>something gone wrong</p>\r\n        </>\r\n      )}\r\n      {movieInfo.genres && (\r\n        <>\r\n          <article className={styles.movieCard}>\r\n            <img\r\n              src={`${posterUrl}${poster_path}`}\r\n              alt={title || name}\r\n              className={styles.poster}\r\n            />\r\n            <section className={styles.movieCardInfo}>\r\n              <h3 className={styles.title}>{`${title || name} (${\r\n                release_date.split(\"-\")[0]\r\n              })`}</h3>\r\n              <p className={styles.score}>\r\n                user score - {`${vote_average * 10}%`}\r\n              </p>\r\n              <h4>Overview</h4>\r\n              <p>{overview}</p>\r\n              <h5>Genres</h5>\r\n              <ul className={styles.genreList}>\r\n                {genres.map((el) => (\r\n                  <li key={el.id}>{el.name}</li>\r\n                ))}\r\n              </ul>\r\n            </section>\r\n          </article>\r\n          <section className={styles.additionalInfo}>\r\n            <p>Additional Information</p>\r\n            <ul className={styles.adInfoList}>\r\n              <li>\r\n                <Link\r\n                  to={{\r\n                    pathname: `/movies/${movieId}/cast`,\r\n                    state: {\r\n                      from: location.state.from,\r\n                    },\r\n                  }}\r\n                  className={styles.link}\r\n                >\r\n                  Cast\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link\r\n                  to={{\r\n                    pathname: `/movies/${movieId}/reviews`,\r\n                    state: {\r\n                      from: location.state.from,\r\n                    },\r\n                  }}\r\n                  className={styles.link}\r\n                >\r\n                  Reviews\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n            <Suspense fallback={<Loader type=\"TailSpin\" color=\"#red\" />}>\r\n              <Switch>\r\n                <Route path={`${props.match.path}/cast`} component={Cast} />\r\n                <Route\r\n                  path={`${props.match.path}/reviews`}\r\n                  component={Reviews}\r\n                />\r\n              </Switch>\r\n            </Suspense>\r\n          </section>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MovieDetailsPage;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieCard\":\"MovieDetailsPage_movieCard__Go1bg\",\"movieCardInfo\":\"MovieDetailsPage_movieCardInfo__2FznA\",\"poster\":\"MovieDetailsPage_poster__3vXjj\",\"title\":\"MovieDetailsPage_title__34UAA\",\"score\":\"MovieDetailsPage_score__3lkmO\",\"genreList\":\"MovieDetailsPage_genreList__27k_S\",\"additionalInfo\":\"MovieDetailsPage_additionalInfo__1xWez\",\"adInfoList\":\"MovieDetailsPage_adInfoList__1vASQ\",\"link\":\"MovieDetailsPage_link__2bKjw\"};"],"sourceRoot":""}